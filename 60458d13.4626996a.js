(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{172:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return c}));var r=t(1),i=t(9),a=(t(0),t(230)),o={id:"applying-to-regions",title:"Using Filters and Regions"},l={id:"guides/xml-pointers/applying-to-regions",title:"Using Filters and Regions",description:"Regions define areas that can later be applied to [Filters](/docs/modules/mechanics/filters)",source:"@site/docs/guides/xml-pointers/applying-to-regions.mdx",permalink:"/docs/guides/xml-pointers/applying-to-regions",editUrl:"https://github.com/PGMDev/Website/edit/master/docs/guides/xml-pointers/applying-to-regions.mdx",sidebar:"Guides",previous:{title:"Defining Regions",permalink:"/docs/guides/xml-pointers/regions"},next:{title:"Filter Apply Order",permalink:"/docs/guides/xml-pointers/filter-apply-order"}},s=[{value:"Creating a Region",id:"creating-a-region",children:[]},{value:"Creating a Filter",id:"creating-a-filter",children:[]},{value:"Applying a Filter to a Region",id:"applying-a-filter-to-a-region",children:[]},{value:"Applying things to multiple regions",id:"applying-things-to-multiple-regions",children:[]}],p={rightToc:s};function c(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Regions define areas that can later be applied to ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/modules/mechanics/filters"}),"Filters"),"\nand other modules.\nUnderstanding how modules, regions and filters work together is important to make critical mechanics for a map."),Object(a.b)("h2",{id:"creating-a-region"},"Creating a Region"),Object(a.b)("p",null,"Creating a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"docs/modules/mechanics/filters"}),"Region")," involves certain world coordinates.\nIn this example, we will create simple ",Object(a.b)("inlineCode",{parentName:"p"},"<cuboid/>")," regions inside a ",Object(a.b)("inlineCode",{parentName:"p"},"<union>"),", which we will save with IDs\nwhich we can reference for later use."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<regions>\n    <union id="spawns">\n        <cuboid id="red-spawn" min="20,0,55" max="40,10,75"/>\n        <cuboid id="blue-spawn" min="10,0,-55" max="30,10,-75"/>\n    </union>\n</regions>\n')),Object(a.b)("h2",{id:"creating-a-filter"},"Creating a Filter"),Object(a.b)("p",null,"Creating a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/modules/mechanics/filters"}),"Filter")," allows us to put restrictions on certain events.\nWe want to stop players from entering their enemy's spawn region, usually to prevent spawnkilling.\nOur goal is to filter players that are entering a region, so we will make basic filters that matches for\nplayers on a certain team."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<filters>\n    \x3c!-- Filter will pass ALLOW if player is on Red Team --\x3e\n    <team id="only-red">red-team</team>\n    <team id="only-blue">blue-team</team>\n</filters>\n')),Object(a.b)("h2",{id:"applying-a-filter-to-a-region"},"Applying a Filter to a Region"),Object(a.b)("p",null,"Applying filters to a region is done inside the ",Object(a.b)("inlineCode",{parentName:"p"},"<regions>")," module.\nWhen we make our ",Object(a.b)("inlineCode",{parentName:"p"},"<apply/>")," module, we can use the IDs in our region and filter to reference them as a variable.\nOut of the various ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/modules/mechanics/regions#apply-element-attributes"}),"events"),",\nwe will use the ",Object(a.b)("inlineCode",{parentName:"p"},"enter")," event.\nWhen a player enters ",Object(a.b)("inlineCode",{parentName:"p"},"red-spawn"),", we want to make sure that only players on the red team are able to enter it.\nSo we apply our ",Object(a.b)("inlineCode",{parentName:"p"},"only-red")," filter to players that are entering it."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<regions>\n    <union id="spawns">\n        <cuboid id="red-spawn" min="20,0,55" max="40,10,75"/>\n        <cuboid id="blue-spawn" min="10,0,-55" max="30,10,-75"/>\n    </union>\n    \x3c!-- checks only-red if a player is allowed to enter --\x3e\n    <apply region="red-spawn" enter="only-red"/>\n    <apply region="blue-spawn" enter="only-blue"/>\n</regions>\n<filters>\n    <team id="only-red">red-team</team>\n    <team id="only-blue">blue-team</team>\n</filters>\n')),Object(a.b)("h2",{id:"applying-things-to-multiple-regions"},"Applying things to multiple regions"),Object(a.b)("p",null,"Typically we want to prevent players from placing or breaking any blocks in spawn, but\nwe have two spawn regions defined in our XML, and both need spawn protection.\nThe ",Object(a.b)("inlineCode",{parentName:"p"},"<union>")," element using the ID ",Object(a.b)("inlineCode",{parentName:"p"},"spawns")," combines the two team spawns into a single region.\nUsing ",Object(a.b)("inlineCode",{parentName:"p"},"spawns")," with ",Object(a.b)("inlineCode",{parentName:"p"},"<apply/>")," will let us apply a filter to both regions.\nWe will use the built-in ",Object(a.b)("inlineCode",{parentName:"p"},"never")," filter, which denies everything.\nThis XML protects spawn from being damaged by players, TNT, mobs, etc and prevents\nplayers from entering their enemy's spawn room, but can still safely enter their own."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<regions>\n    <union id="spawns">\n        <cuboid id="red-spawn" min="20,0,55" max="40,10,75"/>\n        <cuboid id="blue-spawn" min="10,0,-55" max="30,10,-75"/>\n    </union>\n    <apply region="red-spawn" enter="only-red"/>\n    <apply region="blue-spawn" enter="only-blue"/>\n    \x3c!-- denies all block breaking and placing in both red-spawn and blue-spawn --\x3e\n    <apply region="spawns" block="never"/>\n</regions>\n<filters>\n    <team id="only-red">red-team</team>\n    <team id="only-blue">blue-team</team>\n</filters>\n')))}c.isMDXComponent=!0},230:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return m}));var r=t(0),i=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=i.a.createContext({}),c=function(e){var n=i.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l({},n,{},e)),t},d=function(e){var n=c(e.components);return i.a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},b=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(t),b=r,m=d["".concat(o,".").concat(b)]||d[b]||u[b]||a;return t?i.a.createElement(m,l({ref:n},p,{components:t})):i.a.createElement(m,l({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=b;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<a;p++)o[p]=t[p];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);