"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3027],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>b});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),o=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=o(e.components);return r.createElement(c.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=o(a),m=n,b=d["".concat(c,".").concat(m)]||d[m]||p[m]||l;return a?r.createElement(b,i(i({ref:t},u),{},{components:a})):r.createElement(b,i({ref:t},u))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:n,i[1]=s;for(var o=2;o<l;o++)i[o]=a[o];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9498:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>o});var r=a(7462),n=(a(7294),a(3905));const l={id:"variables",title:"Variables"},i=void 0,s={unversionedId:"modules/mechanics/variables",id:"modules/mechanics/variables",title:"Variables",description:"Variables are used to store information that can later be used in a filter.",source:"@site/docs/modules/mechanics/variables.mdx",sourceDirName:"modules/mechanics",slug:"/modules/mechanics/variables",permalink:"/docs/modules/mechanics/variables",draft:!1,editUrl:"https://github.com/PGMDev/Website/tree/master/src/docs/modules/mechanics/variables.mdx",tags:[],version:"current",frontMatter:{id:"variables",title:"Variables"},sidebar:"docs",previous:{title:"Actions & Triggers",permalink:"/docs/modules/mechanics/actions-triggers"},next:{title:"Spawns",permalink:"/docs/modules/mechanics/spawns"}},c={},o=[{value:"Variable Element",id:"variable-element",level:3},{value:"Variable Attributes",id:"variable-attributes",level:3},{value:"Setting Variables",id:"setting-variables",level:3},{value:"Using a Variable In a Filter",id:"using-a-variable-in-a-filter",level:3},{value:"Examples",id:"examples",level:3}],u={toc:o},d="wrapper";function p(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Variables are used to store information that can later be used in a filter.\nValues are changed using the ",(0,n.kt)("a",{parentName:"p",href:"/docs/modules/mechanics/actions-triggers"},"Actions & Triggers")," mechanic.\nAfterwards, they can be used as a ",(0,n.kt)("a",{parentName:"p",href:"/docs/modules/mechanics/filters#variable-filter"},"Filter")," after meeting a certain number or range.\nYou can define as many variables as you want, and all variables must have a scope defined."),(0,n.kt)("h3",{id:"variable-element"},"Variable Element"),(0,n.kt)("div",{className:"table-container"},(0,n.kt)("table",null,(0,n.kt)("thead",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Element"),(0,n.kt)("th",null,"Description"),(0,n.kt)("th",null,"Value/Children"))),(0,n.kt)("tbody",null,(0,n.kt)("tr",null,(0,n.kt)("td",null,(0,n.kt)("label",null,"<variables> </variables>")),(0,n.kt)("td",null,"A node containing the variables for this map."),(0,n.kt)("td",null,(0,n.kt)("span",{className:"badge badge--secondary"},"Variables"))),(0,n.kt)("tr",null,(0,n.kt)("th",null,"Sub-elements"),(0,n.kt)("th",null),(0,n.kt)("th",null)),(0,n.kt)("tr",null,(0,n.kt)("td",null,(0,n.kt)("label",null,"<variable/>")),(0,n.kt)("td",null,"An individual variable."),(0,n.kt)("td",null,(0,n.kt)("span",{className:"badge badge--secondary"},"Variable Attributes")))))),(0,n.kt)("h3",{id:"variable-attributes"},"Variable Attributes"),(0,n.kt)("div",{className:"table-container"},(0,n.kt)("table",null,(0,n.kt)("thead",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Element"),(0,n.kt)("th",null,"Description"),(0,n.kt)("th",null,"Value/Children"))),(0,n.kt)("tbody",null,(0,n.kt)("tr",null,(0,n.kt)("td",null,(0,n.kt)("label",null,"id")),(0,n.kt)("td",null,"Unique identifier used to reference this variable from other places in the XML."),(0,n.kt)("td",null,(0,n.kt)("span",{className:"badge badge--primary"},"String"))),(0,n.kt)("tr",null,(0,n.kt)("td",null,(0,n.kt)("label",null,"scope")),(0,n.kt)("td",null,"Defines what the variable will be applied to.",(0,n.kt)("br",null),(0,n.kt)("span",{className:"badge badge--primary"},"NOTE:"),(0,n.kt)("em",null,"Variables scoped to a player will give each player a unique value that will be preserved, even if they switch teams.")),(0,n.kt)("td",null,(0,n.kt)("label",null,"player"),", ",(0,n.kt)("label",null,"team"),", ",(0,n.kt)("label",null,"match"))),(0,n.kt)("tr",null,(0,n.kt)("td",null,(0,n.kt)("label",null,"default")),(0,n.kt)("td",null,"Sets the initial value of the variable."),(0,n.kt)("td",null,(0,n.kt)("span",{className:"badge badge--primary"},"Number")))))),(0,n.kt)("h3",{id:"setting-variables"},"Setting Variables"),(0,n.kt)("p",null,"Setting variables are done inside the ",(0,n.kt)("a",{parentName:"p",href:"/docs/modules/mechanics/actions-triggers"},"Actions & Triggers")," mechanic.\nThe ",(0,n.kt)("inlineCode",{parentName:"p"},"<set>")," action which changes the variables, waits to be called by a trigger after a filter activates it.\nThe ",(0,n.kt)("inlineCode",{parentName:"p"},"value")," attribute can do any basic mathematical expressions."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Example")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-xml"},'<actions>\n    <action id="increment-flag-cap" scope="team">\n        \x3c!-- increments the current value by 1 --\x3e\n        <set var="flag_captures" value="flag_captures+1">\n    </action>\n    <trigger filter="flag-cap-filter" action="score-points" scope="player"/>\n</action>\n\n...\n\x3c!-- Sets some_variable to 0, 1, 2, 3, or 4 randomly --\x3e\n<set var="some_variable" value="floor(random() * 5)"/>\n...\n')),(0,n.kt)("p",null,"In this example, the ",(0,n.kt)("inlineCode",{parentName:"p"},"flag_captures")," variable will increment by 1 after a player completes ",(0,n.kt)("inlineCode",{parentName:"p"},"flag-cap-filter"),"."),(0,n.kt)("h3",{id:"using-a-variable-in-a-filter"},"Using a Variable In a Filter"),(0,n.kt)("p",null,"The variable can then be used in the ",(0,n.kt)("a",{parentName:"p",href:"/docs/modules/mechanics/filters#variable-filter"},"Variable Filter"),"\nto be utilized in another Action or other module that uses filters.\nThe variable filter can match for a single number or a range of numbers."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Example")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- Match if next_post has a value of 1 --\x3e\n<variable id="next-blue" var="next_post">1</variable>\n\x3c!-- Match if t_score is >= 100 --\x3e\n<variable id="reached-score" var="t_score">[100,oo)</variable>\n\n\x3c!-- Match if t_score is between 5 and 10 (including 5 and 10) --\x3e\n<variable id="reached-score" var="t_score">[5,10]</variable>\n\x3c!-- Match if t_score is between 5 and 10 (excluding 5 and 10) --\x3e\n<variable id="reached-score" var="t_score">(5,10)</variable>\n\x3c!-- Match if t_score is between 0 and 10 (including 0 and excluding 10) --\x3e\n<variable id="reached-score" var="t_score">[0,10)</variable>\n')),(0,n.kt)("h3",{id:"examples"},"Examples"),(0,n.kt)("p",null,"In this example, when a player first enters ",(0,n.kt)("inlineCode",{parentName:"p"},"region-a"),", the team score and later the player score is\nincreased by 5. The second time the same player enters, the team will score an additional 10 points,\nwith the player score continuing to increment by 5. Once the team gets 100 points or higher, a message indicating this will be sent."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-xml"},'<variables>\n    \x3c!-- Initializes the variables --\x3e\n    <variable id="team_score" scope="team"/>\n    <variable id="player_score" scope="player" default="5"/>\n</variables>\n<actions>\n    <action id="score-points" scope="player"/>\n        \x3c!-- team_score = team_score + player_score --\x3e\n        \x3c!-- Adds the player\'s score to the team score --\x3e\n        <set var="team_score" value="team_score+player_score"/>\n        \x3c!-- Adds 5 points to the player\'s score --\x3e\n        <set var="player_score" value="player_score+5"/>\n    </action>\n    \x3c!-- Triggers the above score-points action when a player enters region-a --\x3e\n    <trigger filter="region-a" action="score-points" scope="player"/>\n    \x3c!-- Sends a message to the team once the filter reached-score passes Allow --\x3e\n    <trigger filter="reached-score" action="completed" scope="team"/>\n    <message id="completed" text="The team reached 100 points!"/>\n</action>\n<filters>\n    \x3c!-- Allows when the t_score variable is greater than or equal to 100 --\x3e\n    <variable id="reached-score" var="t_score">[100,oo)</variable>\n</filters>\n')))}p.isMDXComponent=!0}}]);