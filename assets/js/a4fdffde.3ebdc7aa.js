"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[845],{3905:(t,e,l)=>{l.d(e,{Zo:()=>d,kt:()=>b});var n=l(7294);function a(t,e,l){return e in t?Object.defineProperty(t,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[e]=l,t}function i(t,e){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.push.apply(l,n)}return l}function r(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{};e%2?i(Object(l),!0).forEach((function(e){a(t,e,l[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))}))}return t}function s(t,e){if(null==t)return{};var l,n,a=function(t,e){if(null==t)return{};var l,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)l=i[n],e.indexOf(l)>=0||(a[l]=t[l]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)l=i[n],e.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(t,l)&&(a[l]=t[l])}return a}var u=n.createContext({}),o=function(t){var e=n.useContext(u),l=e;return t&&(l="function"==typeof t?t(e):r(r({},e),t)),l},d=function(t){var e=o(t.components);return n.createElement(u.Provider,{value:e},t.children)},k="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},m=n.forwardRef((function(t,e){var l=t.components,a=t.mdxType,i=t.originalType,u=t.parentName,d=s(t,["components","mdxType","originalType","parentName"]),k=o(l),m=a,b=k["".concat(u,".").concat(m)]||k[m]||c[m]||i;return l?n.createElement(b,r(r({ref:e},d),{},{components:l})):n.createElement(b,r({ref:e},d))}));function b(t,e){var l=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var i=l.length,r=new Array(i);r[0]=m;var s={};for(var u in e)hasOwnProperty.call(e,u)&&(s[u]=e[u]);s.originalType=t,s[k]="string"==typeof t?t:a,r[1]=s;for(var o=2;o<i;o++)r[o]=l[o];return n.createElement.apply(null,r)}return n.createElement.apply(null,l)}m.displayName="MDXCreateElement"},7:(t,e,l)=>{l.r(e),l.d(e,{assets:()=>u,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var n=l(7462),a=(l(7294),l(3905));const i={id:"actions-triggers",title:"Actions & Triggers"},r=void 0,s={unversionedId:"modules/mechanics/actions-triggers",id:"modules/mechanics/actions-triggers",title:"Actions & Triggers",description:"Actions are a set of features that are applied to players, teams, or matches, similiar to Kits.",source:"@site/docs/modules/mechanics/actions-triggers.mdx",sourceDirName:"modules/mechanics",slug:"/modules/mechanics/actions-triggers",permalink:"/docs/modules/mechanics/actions-triggers",draft:!1,editUrl:"https://github.com/PGMDev/Website/tree/master/src/docs/modules/mechanics/actions-triggers.mdx",tags:[],version:"current",frontMatter:{id:"actions-triggers",title:"Actions & Triggers"},sidebar:"docs",previous:{title:"Regions",permalink:"/docs/modules/mechanics/regions"},next:{title:"Variables",permalink:"/docs/modules/mechanics/variables"}},u={},o=[{value:"Action Elements",id:"action-elements",level:2},{value:"Action Attributes",id:"action-attributes",level:3},{value:"Switch-Scope Attributes",id:"switch-scope-attributes",level:3},{value:"Message Attributes",id:"message-attributes",level:3},{value:"Set Attributes",id:"set-attributes",level:3},{value:"Kill-Entities Attributes",id:"kill-entities-attributes",level:3},{value:"Fill Attributes",id:"fill-attributes",level:3},{value:"Replace Item Attributes/Elements",id:"replace-item-attributeselements",level:3},{value:"Trigger Element",id:"trigger-element",level:2},{value:"Trigger Attributes",id:"trigger-attributes",level:3},{value:"Examples",id:"examples",level:2},{value:"Enabling Blitz Mode",id:"enabling-blitz-mode",level:3}],d={toc:o},k="wrapper";function c(t){let{components:e,...l}=t;return(0,a.kt)(k,(0,n.Z)({},d,l,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Actions are a set of features that are applied to players, teams, or matches, similiar to ",(0,a.kt)("a",{parentName:"p",href:"/docs/modules/gear/kits"},"Kits"),".\nMultiple actions can be started by one trigger."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"In the future, some features that are currently used in Kits may be transferred to be used as an Action instead.")),(0,a.kt)("h2",{id:"action-elements"},"Action Elements"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Element"),(0,a.kt)("th",null,"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<action> </action>")),(0,a.kt)("td",null,"A single Action.")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<switch-scope> </switch-scope>")),(0,a.kt)("td",null,"Changes the scope that an action applies to.")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<message/>")),(0,a.kt)("td",null,"A message that is sent to the player.")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<set/>")),(0,a.kt)("td",null,"Sets a new value for a"," ",(0,a.kt)("a",{href:"/docs/modules/mechanics/variables"},"Variable"),".")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<kill-entities/>")),(0,a.kt)("td",null,"Removes entities based on a filter.")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<kit/>")),(0,a.kt)("td",null,"Applies a ",(0,a.kt)("a",{href:"/docs/modules/gear/kits"},"Kit"),".")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<fill/>")),(0,a.kt)("td",null,"Places blocks in a block-bounded region.")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<replace-item> </replace-item>")),(0,a.kt)("td",null,"Finds and replaces certain items."))))),(0,a.kt)("h3",{id:"action-attributes"},"Action Attributes"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"id")),(0,a.kt)("td",null,"An ID."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"scope")),(0,a.kt)("td",null,"Runs the filter against a certain query."),(0,a.kt)("td",null,(0,a.kt)("label",null,"player"),", ",(0,a.kt)("label",null,"team"),", ",(0,a.kt)("label",null,"match"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"filter")),(0,a.kt)("td",null,"A filter that is tested before running actions inside."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/mechanics/filters"},"Filter"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"expose")),(0,a.kt)("td",null,"Allows an action to be triggered by ",(0,a.kt)("label",null,"/action"),". Defaults to ",(0,a.kt)("label",null,"false"),".",(0,a.kt)("br",null),(0,a.kt)("em",null,"Actions must have an ID and support the match scope for expose to work. Moderators require the GAMEPLAY permission to use the action command.")),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"true/false")))))),(0,a.kt)("h3",{id:"switch-scope-attributes"},"Switch-Scope Attributes"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"id")),(0,a.kt)("td",null,"An ID."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"inner")),(0,a.kt)("td",null,"Runs the filter against a new query."),(0,a.kt)("td",null,(0,a.kt)("label",null,"player"),", ",(0,a.kt)("label",null,"team"),", ",(0,a.kt)("label",null,"match"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"outer")),(0,a.kt)("td",null,"The previously defined query."),(0,a.kt)("td",null,(0,a.kt)("label",null,"player"),", ",(0,a.kt)("label",null,"team"),", ",(0,a.kt)("label",null,"match")))))),(0,a.kt)("h3",{id:"message-attributes"},"Message Attributes"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"),(0,a.kt)("th",null,"Default"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"text")),(0,a.kt)("td",null,"The text that will be sent to a player."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")),(0,a.kt)("td",null)),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"title")),(0,a.kt)("td",null,"The title text."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")),(0,a.kt)("td",null)),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"subtitle")),(0,a.kt)("td",null,"The subtitle text."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")),(0,a.kt)("td",null)),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"actionbar")),(0,a.kt)("td",null,"The text above the hotbar."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")),(0,a.kt)("td",null)),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"fade-in")),(0,a.kt)("td",null,"How long the text will fade in."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")),(0,a.kt)("td",null,"0.5 sec")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"stay")),(0,a.kt)("td",null,"How long the text will display for."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")),(0,a.kt)("td",null,"3.5 sec")),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"fade-out")),(0,a.kt)("td",null,"How long the text will fade out."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")),(0,a.kt)("td",null,"1 sec"))))),(0,a.kt)("h3",{id:"set-attributes"},"Set Attributes"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"var")),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--danger"},"Required")," The variable to update."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/mechanics/variables"},"Variable"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"value")),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--danger"},"Required")," Sets a new value for the variable."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"String")))))),(0,a.kt)("h3",{id:"kill-entities-attributes"},"Kill-Entities Attributes"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"filter")),(0,a.kt)("td",null,"Filters which entities to remove."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/mechanics/filters"},"Filter")))))),(0,a.kt)("h3",{id:"fill-attributes"},"Fill Attributes"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"region")),(0,a.kt)("td",null,"The region to fill in."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/mechanics/Regions"},"Region"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"material")),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--danger"},"Required")," The filling material."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/reference/items/inventory#material_matchers"},"Single Material Pattern"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"filter")),(0,a.kt)("td",null,"Filters which blocks get affected. ",(0,a.kt)("em",null,"May impact preformace for large fills.")),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/mechanics/filters"},"Filter"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"events")),(0,a.kt)("td",null,"Calls events for block placements and removals, which will make it affected by other filters and PGM features. ",(0,a.kt)("em",null,"May impact preformace for large fills.")),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"True/False")))))),(0,a.kt)("h3",{id:"replace-item-attributeselements"},"Replace Item Attributes/Elements"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<find/>")),(0,a.kt)("td",null,"The item to find."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/gear/items#item-attributes"},"Item Attributes"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"<replace/>")),(0,a.kt)("td",null,"The new item to replace with."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/gear/items#item-attributes"},"Item Attributes"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"keep-amount")),(0,a.kt)("td",null,"Player recives the same amount of the new item as they had of the old item."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"True/False"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"keep-enchants")),(0,a.kt)("td",null,"Enchantments on the old item will be applied to the new item."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"True/False"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"ignore-metadata")),(0,a.kt)("td",null,"Filters which entities to remove."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"True/False"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"amount")),(0,a.kt)("td",null,"Match for item stacks that have a certain amount of items in a range."),(0,a.kt)("td",null,(0,a.kt)("span",{className:"badge badge--primary"},"Range")))))),(0,a.kt)("h2",{id:"trigger-element"},"Trigger Element"),(0,a.kt)("p",null,"The ",(0,a.kt)("label",null,(0,a.kt)("inlineCode",{parentName:"p"},"<trigger/>"))," Element waits for a dynamic filter to activate it, and afterwards it will\ntrigger an Action."),(0,a.kt)("h3",{id:"trigger-attributes"},"Trigger Attributes"),(0,a.kt)("div",{className:"table-container"},(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Attribute"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Value"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"filter")),(0,a.kt)("td",null,"A dynamic filter that activiates the trigger."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"/docs/modules/mechanics/filters#dynamic-filters"},"Dynamic Filter"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"action")),(0,a.kt)("td",null,"Sets an Action."),(0,a.kt)("td",null,(0,a.kt)("a",{href:"#action-elements"},"Action"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,(0,a.kt)("label",null,"scope")),(0,a.kt)("td",null,"Runs the filter against a certain query."),(0,a.kt)("td",null,(0,a.kt)("label",null,"player"),", ",(0,a.kt)("label",null,"team"),", ",(0,a.kt)("label",null,"match")))))),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Example")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<kits>\n    <kit id="spawn">\n        <item slot="0" unbreakable="true" material="stone sword"/>\n        <action>\n            <message text="You were given a kit!"/>\n        </action>\n    </kit>\n</kits>\n<actions>\n    <action id="do-stuff" scope="player">\n        \x3c!-- Gives the player who activated the trigger a diamond --\x3e\n        <message text="You\'ve been given a diamond!"/>\n        <kit>\n            <item>diamond</item>\n        </kit>\n        \x3c!-- Sends a message to the player\'s team --\x3e\n        <switch-scope outer="player" inner="team">\n            <message text="Your team has been given the spawn kit!"/>\n            \x3c!-- Gives each player in the team a kit (Kits are applied per player) --\x3e\n            <switch-scope outer="team" inner="player">\n                <kit id="spawn"/>\n            </switch-scope>\n        </switch-scope>\n    </action>\n    <trigger filter="some-dynamic-filter" action="do-stuff" scope="player"/>\n    <message id="standalone-text" text="This is a standalone text trigger"/>\n    <trigger filter="another-dynamic-filter" action="standalone-text" scope="player"/>\n</actions>\n')),(0,a.kt)("h2",{id:"examples"},"Examples"),(0,a.kt)("h3",{id:"enabling-blitz-mode"},"Enabling Blitz Mode"),(0,a.kt)("p",null,"This example uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"expose"),' attribute in Action to allow moderators to enable\na "Blitz Mode" using the ',(0,a.kt)("inlineCode",{parentName:"p"},"/action")," command. Moderators must have the ",(0,a.kt)("inlineCode",{parentName:"p"},"GAMEPLAY")," permissions\nin order to use ",(0,a.kt)("inlineCode",{parentName:"p"},"/action"),". See ",(0,a.kt)("a",{parentName:"p",href:"/docs/commands/main"},"Commands")," for more details."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<actions>\n  \x3c!-- Moderator uses "/action trigger start-blitz" to start this Action --\x3e\n  <action id="start-blitz" expose="true" scope="match">\n    \x3c!-- Sends notification to chat --\x3e\n    <message text="Blitz mode has been enabled!"/>\n    \x3c!-- Sets blitz_enabled to 1 --\x3e\n    <set var="blitz_enabled" value="1"/>\n  </action>\n\n  \x3c!-- Moderator uses "/action trigger end-blitz" to start this Action --\x3e\n  <action id="end-blitz" expose="true" scope="match">\n    <message text="Blitz mode has been disabled!"/>\n    <set var="blitz_enabled" value="0"/>\n  </action>\n</actions>\n\x3c!-- Creates the blitz_enabled variable --\x3e\n<variables>\n  <variable id="blitz_enabled" scope="match"/>\n</variables>\n<blitz>\n  \x3c!-- Matches for a condition where a player loses a life --\x3e\n  <filter>\n    \x3c!-- If a player dies when blitz_enabled is 1, they lose a life --\x3e\n    <variable var="blitz_enabled">1</variable>\n  </filter>\n</blitz>\n')))}c.isMDXComponent=!0}}]);